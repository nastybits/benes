# JSVU + V8 Engine

## Установка JSVU:
Для установки требуется Node.js v18+
```bash
npm install jsvu -g
```
#### Linux/Mac:
```bash
export PATH="${HOME}/.jsvu/bin:${PATH}"
```

#### Windows:
Добавить папку `C:\Users\%USERNAME%\.jsvu\bin` в переменную среды `PATH`

Запустить установщик:
```bash
 jsvu
```
Пройти интереактивный диалог для установки нужных движков. В этом readme будут приведены команды для `V8`

## Команды запуска:
```bash
v8 --print-bytecode "var a = 123"; # Вывести байткод в консоль
v8 --print-bytecode <file> # Вывести байткод файла в консоль
```

### Фильтры
```bash
v8 --print-bytecode --print-bytecode-filter=[param] # Вывести байткод с фильтрацией
```
Параметры фильтров

`*` - Вывести байткод для всего
`""` - Вывести байткод только для кода в глобальной области
`-` - Вывести байткод только для кода не в глобальной области
`doSomething` - вывести байткод только для функции "doSomething"

## Тесты производительности
Для запуска тестов используется nodeJS. Необходимо указать исполняемый файл, файл теста
и опциональные флаги дополнительных настроек.

```bash
node ./server/main.mjs ./bench/loops.js 100 -q
```

Значение флагов :
```bash
-q # Не показывать детальную информацию по каждому прогону
```